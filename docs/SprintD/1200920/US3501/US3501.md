# US3501
=======================================

# 1. Requisitos

**US:** As Customer, I want to get the list of questionnaires that the system is asking me to answer and be able to
answer any of those questionnaires.

- **AC1:** The UI should be generated dynamically in accordance to the given questionnaire. I.e. que UI is generated by
  interpreting the input questionnaire.

- **AC2:** The answers should be saved in a raw text format to be further processed/analyzed.

This US contains 2 use cases they are:

- **UC 3.3.2:** View notifications to answer a survey/questionnaire. Customers should be able to get a list of all
  the notifications received to answer a given survey. A customer receives a notification when (s)he meets the target
  audience of a given survey.

- **UC 3.3.3:** Answer a survey/questionnaire. Following a received notification, customers answer the questions of the
  requested questionnaire.

## Questions

> **Question:**
> Dear client,
> Question 1: In regard to the survey rules, can a survey have multiple of them?
>
> Question 2: If multiple rules were chosen for a given survey, would these be used in conjunction or disjunction?
>
>Example: "Having ordered a certain product and be of a certain gender" or "Having ordered a certain product or be of a
> certain gender"
>
> **Answer:**
> Q1 and Q2: It would be nice to specify more than one condition in the same rule and have more than one rule.
>
>Example:
>
>Rule 1 (two conditions): "Having ordered a certain product (C1) and be of a certain gender (C2)".
>
>Rule 2 (one condition): "Living in Porto district".
>
>The target customers would be the ones meeting Rule 1 or Rule 2.
>
>So, you have conjunction inside a rule (C1 and C2) and disjunction between rules (R1 or R2).
>
>At the end of Sprint D, at least one scenario (conjunction or disjunction) must be supported.

> **Question:**
> Dear client,
> Question 1: In regard to the survey rules, can a survey have multiple of them?
>
> Question 2: If multiple rules were chosen for a given survey, would these be used in conjunction or disjunction?
>
>Example: "Having ordered a certain product and be of a certain gender" or "Having ordered a certain product or be of a
> certain gender"
>
> **Answer:**
> Q1 and Q2: It would be nice to specify more than one condition in the same rule and have more than one rule.
>
>Example:
>
>Rule 1 (two conditions): "Having ordered a certain product (C1) and be of a certain gender (C2)".
>
>Rule 2 (one condition): "Living in Porto district".
>
>The target customers would be the ones meeting Rule 1 or Rule 2.
>
>So, you have conjunction inside a rule (C1 and C2) and disjunction between rules (R1 or R2).
>
>At the end of Sprint D, at least one scenario (conjunction or disjunction) must be supported.

# 2. Análise

Analising the requirements, we can see that the user story has 3 core features:

- There is the need of notifiate the user when a survey is available to answer.
- There is the need of answer a survey.
- There is the need of save the answers of the survey in a raw text format.

### Domain Model

![DomainModel](C:\Users\eduar\Desktop\ProjetoIntegrador\lei21_22_s4_2dj_1\Docs\SprintD\1200920\US3501\DM.svg)

In this excerpt we can see that there is the interation between the Customer and the Survey. The survey is directed to a
specific type of customer. The customer is the one that is going to answer the survey.

### System Sequence Diagram

#### Customer Receives a Notification

![SystemSequenceDiagram](C:\Users\eduar\Desktop\ProjetoIntegrador\lei21_22_s4_2dj_1\Docs\SprintD\1200920\US3501\SSD_CustomerReceivesANotification.svg)

#### Customer checks the list of unanswered surveys

![SystemSequenceDiagram](C:\Users\eduar\Desktop\ProjetoIntegrador\lei21_22_s4_2dj_1\Docs\SprintD\1200920\US3501\SSD_CustomerChecksTheListOfUnansweredSurveys.svg)

As we can see, the customer receives a notification when a survey is available to answer. The customer checks the list
of surveys that are available to answer.
Then, in order to answer a survey, there is a loop that iterates over all the questions.

After discussing with the team, we decided:

- The struture of the output file:
<br>
  QuestionID

  Answer

  <br>
- The filename:
  - IdSurvey_IdCustomer.txt

# 3. Design

## Sequence Diagram (SD)

## Realização da Funcionalidade

*Nesta secção deve apresentar e descrever o fluxo/sequência que permite realizar a funcionalidade.*

## Padrões Aplicados

*Nesta secção deve apresentar e explicar quais e como foram os padrões de design aplicados e as melhores práticas.*

## Testes

*Nesta secção deve sistematizar como os testes foram concebidos para permitir uma correta aferição da satisfação dos
requisitos.*

**Teste 1:** Verificar que não é possível criar uma instância da classe Exemplo com valores nulos.

	@Test(expected = IllegalArgumentException.class)
		public void ensureNullIsNotAllowed() {
		Exemplo instance = new Exemplo(null, null);
	}

# 4. Implementação

*Nesta secção a equipa deve providenciar, se necessário, algumas evidências de que a implementação está em conformidade
com o design efetuado. Para além disso, deve mencionar/descrever a existência de outros ficheiros (e.g. de configuração)
relevantes e destacar commits relevantes;*

*Recomenda-se que organize este conteúdo por subsecções.*

# 5. Integração/Demonstração

There were the need of implementing a notification system to notify the user when a survey is available to answer, so
there were modifications in US3001. When the creation of the survey is done, the system should send a notification to
the users that are in the target audience of the survey.

The answers of the survey should be saved in a raw text format to be further created statistics about the answers in the
US 3002 (UC 3.3.4).

# 6. Observações

*Nesta secção sugere-se que a equipa apresente uma perspetiva critica sobre o trabalho desenvolvido apontando, por
exemplo, outras alternativas e ou trabalhos futuros relacionados.*



